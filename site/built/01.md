---
title: Auxiliary Tools
teaching: 15
exercises: 10
---

::::::::::::::::::::::::::::::::::::::: objectives

- Understand how to reproduce code.
- Understand the benefits of containers.
- Clone a repository on GitHub.

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::: questions

- When should I use a pre-built container?
- How do I set up my own container?
- What is a remote codespace?

::::::::::::::::::::::::::::::::::::::::::::::::::


## Code Containers

::: group-tab

### Windows

Git for Windows comes with SSH preinstalled: you do not have to do anything.

> #### GUI Support for Windows
>
> If you know that the software you will be running on the cluster requires a
> graphical user interface (a GUI window needs to open for the application to
> run properly), please install [MobaXterm](https://mobaxterm.mobatek.net) Home
> Edition.

### macOS

macOS comes with SSH pre-installed: you do not have to do anything.

> #### GUI Support for macOS
>
> If you know that the software you will be running requires a graphical user
> interface, please install [XQuartz](https://www.xquartz.org).

### Linux

Linux comes with SSH and X window support preinstalled: you do not have to do
anything.

:::

### Browsing Docker Hub

- The container image is updated regularly, the latest version should be available alongside previous versions.
- The container image associated with a well established company, community, or other group that is well-known.
- There is a Dockerfile or other listing of what has been installed to the container image.
- The container image page has documentation on how to use the container image.

:::::::::::::::::::::::::::::::::::::::: discussion

If a container image is never updated, created by a random person, and does not have a lot of metadata, it is probably worth skipping over. Even if such a container image is secure, it is not reproducible and not a dependable way to run research computations.

::::::::::::::::::::::::::::

#### Docker Recipe File

Much like a cookbook, you can pull out recipes and alter to own taste. This is how you normally get started building your own image, you can start with a base repository, and layer requirements.

``` docker

FROM bioconductor/bioconductor_docker:devel-R-4.4.1

RUN R -e "install.packages(c('Matrix', 'lattice', 'parallel', 'MASS', 'methods', 'xtable', 'network', 'vioplot', 'sna', 'codetools', 'dplyr', 'metafor', 'argparse', 'stringr', 'mixmeta'), repos = c(CRAN = 'https://cloud.r-project.org'))"

COPY rsiena_1.4.19.tar.gz .

RUN R -e "install.packages('rsiena_1.4.19.tar.gz', repos = NULL, type = 'source')"

```

### Building an Apptainer Image

Many container platforms are available, but Apptainer is designed for ease-of-use on shared systems and in high performance computing (HPC) environments. Nextflow can build an immutable image based off a Docker recipe file.

:::::::::::::::::::::::::::::::::::::::: keypoints

- The Docker Hub is an online repository of container images.
- Many Docker Hub container images are public, and may be officially endorsed.
- Find a container recipe file that works for your project and customise this.
- Nextflow can pull a docker container from Docker Hub and convert this to an Apptainer image.
- Docker is not permitted on most HPC environments. Apptainer is used instead as a single file SIF container format is easy to transport and share.
- Containers are important to reproducible workflows and portability of workflows across environments.

::::::::::::::::::::::::::::::::::::::::::::::::::