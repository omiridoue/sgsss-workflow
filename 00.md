---
title: "FAIR research software"
teaching: 15
exercises: 10
---

::::::::::::::::::::::::::::::::::::::: objectives

- Explain the FAIR research principles in the context of research software
- Explain why these principles are of value in the research community 
- Explain how file management helps in being FAIR
- Understand elements of good naming strategy
- Evaluate pros and cons of different project folder organizations

::::::::::::::::::::::::::::::::::::::::::::::::::

:::::::::::::::::::::::::::::::::::::::: questions

- What are the FAIR research principles?
- How do FAIR principles apply to software?
- How does folder organisation help me?
- How should I name and organise my files?
 
::::::::::::::::::::::::::::::::::::::::::::::::::

## What is FAIR?

FAIR stands for Findable, Accessible, Interoperable, and Reusable and comprises a set of principles designed to increase the visibility and usefulness of your research to others. FAIR principles have been applied for software, here is a brief concept translation:

- **Findable** - software and its associated metadata must be easy to discover by humans and machines.
- **Accessible** - in order to reuse software, the software and its metadata must be retrievable by standard protocols, free and legally usable.
- **Interoperable** - appropriate scaffolding in place for cross-platform interaction, different languages can be used.
- **Reusable** - software should be usable and reusable
  (can be understood, modified, built upon, or incorporated into other software).

In practice achieving these goals is not an outcome, but a process in itself that will bring you closer to making your research reproducible.

![Grid with the characteristics of: Reproducible; same data, same analysis. Replicable; different data, same analysis. Robust; same data, different analysis. And generalisable; different data, different analysis; Research](episodes/fig/reproducible_replicable.svg)

_The Turing Way_ project illustration by Scriberia. Used under a CC-BY 4.0 licence. DOI: [10.5281/zenodo.3332807](https://doi.org/10.5281/zenodo.3332807).

## How do FAIR principles apply in practice? 

### Findable
- Create a description of your software to make it discoverable by search engines and other search tools
- Use standards (such as [CodeMeta][codemeta]) to describe interoperable metadata for your software (see [Research Software Metadata Guidelines][rsmd-g1])
- Place your software in a public software repository (and ideally register it in a [general-purpose or domain-specific software registry][awesome-rs-registries])
- Use a unique and persistent identifier (DOI) for your software (e.g. by depositing your code on Zenodod, OSF, GitHub)

  which is also useful for citations - note that depositing your data/code on GitHub and similar software repositories
  may not be enough as they may change their open access model or disappear completely in the future, so archiving your code means it stands a better chance at being preserved

### Accessible
- Make sure people can obtain get a copy your software using standard and secure communication protocols (e.g. HTTP(S), (S)FTP, etc.)
- The code and its description (metadata) has to be available even when the software is no longer actively developed (this includes earlier versions of the software)

### Interoperable
- Use community-agreed standard formats for inputs and outputs of your software and its metadata
- Communicate with other software and tools via standard protocols and APIs

### Reusable
- Document your software (including its functionality, how to install and run it) so it is both usable (can be executed) 
and reusable (can be understood, modified, built upon, or incorporated into other software)
- Give a licence to your software clearly stating how it can be reused

![Grid with the characteristics of: Reproducible; same data, same analysis. Replicable; different data, same analysis. Robust; same data, different analysis. And generalisable; different data, different analysis; Research](episodes/fig/reproducibility.jpg)

## How does file management help me?

There are three principles to naming things; the first two apply to all kinds of things and the third is optional but valuable for keeping track of your files.

File names should be:
1. Machine readable
2. Human readable
3. Optional: Tap into default ordering
4. Optional: Generated dynamically

Before we dive into the details of what they mean, let's look at some examples of *ok* and good file names, please note there is nuansce.

| üî® Let's fix this         | ‚úîÔ∏è Good |
| -----------------|-------------------------|
|`School123 Period1.RDS` | `school123_period1.RDS` |
|`period1_school123_A_ITER2_CONVERGED_SIM.RDS` | `school123_period1_A_ITER2_CONVERGED_SIM.RDS` |
| `school123_period1_I_goodness_fit_triads.png` | `school123_period1_I_gofTriads.png` |
|`school123_period.tex` | `school123_period1_A.tex` |

### Works well with default ordering

To create a good default ordering adding a number or date at the beginning of the name is often a good idea. This keeps our files sorted in ascending order based on file versions or in chronological order.

To sort them by their date of creation, we can start the file names with `year-month-day` (for example `2020-02-21`). We recommend using something like the [ISO 8601 standard: YYYY-MM-DD](https://en.wikipedia.org/wiki/ISO_8601) for dates. If you use other numbers, we recommend left padding them with zeros, because your computer will order `003 < 004 < 020 < 100` as opposed to `100 < 20 < 3 < 4`.

Naming folders according to a logical number can lead to a mess if the ordering changes in the future.
For example, there is a folder with the book chapters `01_introduction`, `02_naming_files`, and `03_naming_folders`. The author writes a preface of the book and decides to squeeze it before the introduction chapter. This would mean that they will have to rename all the files to maintain the intended order.
This happens a lot and clearly, this has more downsides than upsides.

<div>
  <p style="border: 1px solid rgba(0,0,0,0.1); border-radius: 2px; box-sizing: border-box; overflow: hidden; position: relative; width: 100%; background: #F4F4F4;">
    <iframe src='https://www.mentimeter.com/app/presentation/alfn4xpqitna69dtr66ktgv1278zfrys/embed' sandbox='allow-scripts allow-same-origin allow-presentation' allowfullscreen='true' allowtransparency='true' frameborder='0' height='315' style='position: absolute; top: 0; left: 0; width: 100%; height: 100%;' width='420'>
¬†   </iframe>
  </p>
</div>

### Generated dynamically

Output in multiple forms can be generated as part of running a computational pipeline. Result files can contain a key identifier or label, depending on your unit of analysis.
Workflow managers offer important scaffolding to support you track the flows of inputs and outputs across multiple stages of a pipeline. The identifier may well be an pseudonym if your project works with confidential data. 

We can come back to this to see how we can combine handy process labels in our workflow with base functions like `paste0()` in R and concatenate literal words or values with ones that depend on the input in a given point in time. Here are some tips for naming files within a research project, which are both human- and machine-readable:

A little work and time investment early on in project design saves a lot of time later when any circumstances arise that demand change. Does this apply to my PhD, the answer is ‚Äòyes‚Äô. The project design will allow you to manage your work well for yourself (see the section: Getting Started Checklist).

## Background

A repository (or a "repo") is a storage location for your research project. A repository can contain a range of digital objects and can be used to store your project by using online platforms such as GitHub. The aim of a repository is to organise your project in such a way this is both accessible to others and efficient to use. 

So far, we saw the key documents that one should add when starting or setting up a project repository.
If you are following along, navigate to , this should contain the following files.

### Example for a Research Project

Here are some suggestions on the files and folders your workflow should have, you can download a the template folder by fol

![Workflow manager template folder to build your own workflow](episodes/fig/repo-boilerplate.png)

You can also download the code for the specific branch.

```bash

git clone -b repo-boilerplate --single-branch git@github.com:omiridoue/sgsss-workflow.git
Here is the repository folder structure that Nextflow uses:

```
A good way to map the organisation of folders within your directory is using this file tree. 

```
Project folder
‚îî‚îÄ‚îÄ üìÅworkflow                <- Main workflow directory
  ‚îî‚îÄ‚îÄ üìÅapptainer          <- Container definitions for Apptainer (formerly Singularity)
  ‚îî‚îÄ‚îÄ üìÅbin                 <- Executable scripts used in the workflow, ex. in R these would be functions 
  ‚îî‚îÄ‚îÄ üìÅconf               <- Configuration files for different execution environments
  ‚îî‚îÄ‚îÄ üìÅdata               <- Input data files for the workflow
  ‚îî‚îÄ‚îÄ üìÅdocker             <- Docker container definition and dependencies
  ‚îî‚îÄ‚îÄ üìÅdocs               <- Documentation, reports, and visualizations
  ‚îî‚îÄ‚îÄ üìÅmodules            <- Nextflow modules for different analysis steps
  ‚îî‚îÄ‚îÄ üìÅparams             <- Parameter files for the workflow
  ‚îî‚îÄ‚îÄ üìÅtemplates          <- Template scripts used in the workflow
  ‚îî‚îÄ‚îÄ .dockerignore        <- Files to exclude from Docker builds
  ‚îî‚îÄ‚îÄ .gitignore           <- Files to exclude from Git version control
  ‚îî‚îÄ‚îÄ main.nf              <- Main Nextflow workflow definition
  ‚îî‚îÄ‚îÄ nextflow.config      <- Main Nextflow configuration
  ‚îî‚îÄ‚îÄ params.config        <- Parameter configuration
  ‚îî‚îÄ‚îÄ README.md            <- Project documentation
```

### Example with Every Possible Folder 

This example shows different files and directory a project can contain when building a workflow.

### Curated Examples of GitHub Repositories

- [Nextflow repository](https://github.com/nextflow-io/nextflow)
- [Agent Based Model Workflow](https://github.com/Eskimuz/economic_model-zenodo)

:::::::::::::::::::::::::::::::::::::::: keypoints

- Name your files consistently
- Keep it short but descriptive
- Share/establish a naming convention when working with collaborators
- Consider generating output file names dynamically
- Avoid special characters or spaces to keep it machine-compatible
- Use capitals or underscores to keep it human-readable
- Use consistent date formatting, for example ISO 8601: `YYYY-MM-DD` to maintain default order
- Include a version number when applicable
- Record a naming convention in your data management plan

::::::::::::::::::::::::::::::::::::::::::::::::::
