<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en" data-bs-theme="auto"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Building Your Own Computational Workflow for Social Scientists: Operators</title><meta name="viewport" content="width=device-width, initial-scale=1"><script src="assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="assets/styles.css"><script src="assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="favicons/incubator/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="favicons/incubator/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="favicons/incubator/favicon-16x16.png"><link rel="manifest" href="favicons/incubator/site.webmanifest"><link rel="mask-icon" href="favicons/incubator/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="black"></head><body>
    <header id="top" class="navbar navbar-expand-md top-nav incubator"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="incubator-logo" alt="Carpentries Incubator" src="assets/images/incubator-logo.svg"><span class="badge text-bg-danger">
          <abbr title="This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught.">
            <a href="https://cdh.carpentries.org/the-lesson-life-cycle.html#early-development-pre-alpha-through-alpha" class="external-link alert-link">
              <i aria-hidden="true" class="icon" data-feather="alert-octagon" style="border-radius: 5px"></i>
              Pre-Alpha
            </a>
            <span class="visually-hidden">This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught.</span>
          </abbr>
        </span>

      </div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text"><li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul></li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Learner View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='instructor/08.html';">Instructor View</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav incubator" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Carpentries Incubator" src="assets/images/incubator-logo-sm.svg"></div>
    <div class="lesson-title-md">
      Building Your Own Computational Workflow for Social Scientists
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            Building Your Own Computational Workflow for Social Scientists
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="reference.html#glossary">Glossary</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="profiles.html">Learner Profiles</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"><li><a class="dropdown-item" href="discuss.html">Discussion</a></li><li><a class="dropdown-item" href="reference.html">Groovy syntax</a></li>
          </ul></li>
      </ul></div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Building Your Own Computational Workflow for Social Scientists
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 100%" class="percentage">
    100%
  </div>
  <div class="progress incubator">
    <div class="progress-bar incubator" role="progressbar" style="width: 100%" aria-valuenow="100" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text"><li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul></li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Learner View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="instructor/08.html">Instructor View</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->

            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Setup</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="00.html">1. Introduction</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="02.html">2. Hello Nextflow</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="03.html">3. Parameters</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="04.html">4. Channels</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="05.html">5. Modules</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="06.html">6. Modules Part 2</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush8">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading8">
        <a href="07.html">7. Workflow</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapsecurrent" aria-expanded="true" aria-controls="flush-collapsecurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        8. Operators
        </span>
      </button>
    </div><!--/div.accordion-header-->

    <div id="flush-collapsecurrent" class="accordion-collapse collapse show" aria-labelledby="flush-headingcurrent" data-bs-parent="#accordionFlushcurrent">
      <div class="accordion-body">
        <ul><li><a href="#operators">Operators</a></li>
<li><a href="#using-operators">Using Operators</a></li>
        </ul></div><!--/div.accordion-body-->
    </div><!--/div.accordion-collapse-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush10">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading10">
        <a href="09.html">9. Reporting</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush11">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading11">
        <a href="10.html">10. Nextflow configuration</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush12">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading12">
        <a href="01.html">11. Auxiliary Tools</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush13">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading13">
        <a href="11.html">12. Resuming a Workflow</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush14">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading14">
        <a href="12.html">13. Portability of Workflow</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="reference.html#glossary">Glossary</a>
                      </li>
                      <li>
                        <a href="profiles.html">Learner Profiles</a>
                      </li>
                      <li><a href="discuss.html">Discussion</a></li><li><a href="reference.html">Groovy syntax</a></li>
                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources"><a href="aio.html">See all in one page</a>


            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">

            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Previous and Next Chapter"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="07.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="09.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="07.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Workflow
        </a>
        <a class="chapter-link float-end" href="09.html" rel="next">
          Next: Reporting...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Operators</h1>
        <p>Last updated on 2025-06-26 |

        <a href="https://github.com/omiridoue/sgsss_workflow/edit/main/episodes/08.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>



        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul><li>How do I perform operations, such as filtering, on channels?</li>
<li>What are the different kinds of operations I can perform on
channels?</li>
<li>How do I combine operations?</li>
<li>How can I use a CSV file to process data into a Channel?</li>
</ul></div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul><li>Understand what Nextflow operators are.</li>
<li>Modify the contents/elements of a channel using operators.</li>
<li>Perform filtering and combining operations on a channel object.</li>
<li>Use the <code>splitCsv</code> operator to parse the contents of CSV
file into a channel .</li>
</ul></div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="operators">Operators<a class="anchor" aria-label="anchor" href="#operators"></a></h2>
<hr class="half-width"><p>In the Channels episode we learnt how to create Nextflow channels to
enable us to pass data and values around our workflow. If we want to
modify the contents or behaviour of a channel, Nextflow provides methods
called <code>operators</code>. We have previously used the
<code>view</code> operator to view the contents of a channel. There are
many more operator methods that can be applied to Nextflow channels that
can be usefully separated into several groups:</p>
<ul><li>
<strong>Filtering</strong> operators: reduce the number of elements
in a channel.</li>
<li>
<strong>Transforming</strong> operators: transform the value/data in
a channel.</li>
<li>
<strong>Splitting</strong> operators: split items in a channel into
smaller chunks.</li>
<li>
<strong>Combining</strong> operators: join channels together.</li>
<li>
<strong>Maths</strong> operators: apply simple math functions on
channels.</li>
<li>
<strong>Other</strong>: such as the view operator.</li>
</ul><p>In this episode you will see examples, and get to use different types
of operators.</p>
</section><section><h2 class="section-heading" id="using-operators">Using Operators<a class="anchor" aria-label="anchor" href="#using-operators"></a></h2>
<hr class="half-width"><p>To use an operator, the syntax is the channel name, followed by a dot
<code>.</code> , followed by the operator name and brackets
<code>()</code>.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">GROOVY<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode groovy" tabindex="0"><code class="sourceCode groovy"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>channel_obj<span class="op">.&lt;</span>operator<span class="op">&gt;()</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="view">view<a class="anchor" aria-label="anchor" href="#view"></a></h4>
<p>The <code>view</code> operator prints the items emitted by a channel
to the console appending a <em>new line</em> character to each item in
the channel.</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">GROOVY<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode groovy" tabindex="0"><code class="sourceCode groovy"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>ch <span class="op">=</span> channel<span class="op">.</span><span class="fu">of</span><span class="op">(</span><span class="st">'1'</span><span class="op">,</span> <span class="st">'2'</span><span class="op">,</span> <span class="st">'3'</span><span class="op">)</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>ch<span class="op">.</span><span class="fu">view</span><span class="op">()</span></span></code></pre>
</div>
<p>We can also chain together the channel factory method
<code>.of</code> and the operator <code>.view()</code> using the dot
notation.</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">GROOVY<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode groovy" tabindex="0"><code class="sourceCode groovy"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>ch <span class="op">=</span> channel<span class="op">.</span><span class="fu">of</span><span class="op">(</span><span class="st">'1'</span><span class="op">,</span> <span class="st">'2'</span><span class="op">,</span> <span class="st">'3'</span><span class="op">).</span><span class="fu">view</span><span class="op">()</span></span></code></pre>
</div>
<p>To make code more readable we can split the operators over several
lines. The blank space between the operators is ignored and is solely
for readability.</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">GROOVY<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode groovy" tabindex="0"><code class="sourceCode groovy"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>ch <span class="op">=</span> channel</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>      <span class="op">.</span><span class="fu">of</span><span class="op">(</span><span class="st">'1'</span><span class="op">,</span> <span class="st">'2'</span><span class="op">,</span> <span class="st">'3'</span><span class="op">)</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>      <span class="op">.</span><span class="fu">view</span><span class="op">()</span></span></code></pre>
</div>
<p>prints:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">GROOVY<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode groovy" tabindex="0"><code class="sourceCode groovy"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="dv">1</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="dv">2</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="dv">3</span></span></code></pre>
</div>
<div class="section level5">
<h5 id="closures">Closures<a class="anchor" aria-label="anchor" href="#closures"></a></h5>
<p>An optional <em>closure</em> <code>{}</code> parameter can be
specified to customise how items are printed.</p>
<p>Briefly, a closure is a block of code that can be passed as an
argument to a function. In this way you can define a chunk of code and
then pass it around as if it were a string or an integer. By default the
parameters for a closure are specified with the groovy keyword
<code>$it</code> (‘it’ is for ‘item’).</p>
<p>For example here we use the the <code>view</code> operator and apply
a closure to it, to add a <code>chr</code> prefix to each element of the
channel using string interpolation.</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">GROOVY<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode groovy" tabindex="0"><code class="sourceCode groovy"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>ch <span class="op">=</span> channel</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>  <span class="op">.</span><span class="fu">of</span><span class="op">(</span><span class="st">'1'</span><span class="op">,</span> <span class="st">'2'</span><span class="op">,</span> <span class="st">'3'</span><span class="op">)</span></span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>  <span class="op">.</span><span class="fu">view</span><span class="op">({</span> <span class="st">"chr</span><span class="ss">$it</span><span class="st">"</span> <span class="op">})</span></span></code></pre>
</div>
<p>It prints:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">chr1</span></span>
<span><span class="va">chr2</span></span>
<span><span class="va">chr3</span></span></code></pre>
</div>
<p><strong>Note:</strong> the <code>view()</code> operator doesn’t
change the contents of the channel object.</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">GROOVY<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode groovy" tabindex="0"><code class="sourceCode groovy"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>ch <span class="op">=</span> channel</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a>  <span class="op">.</span><span class="fu">of</span><span class="op">(</span><span class="st">'1'</span><span class="op">,</span> <span class="st">'2'</span><span class="op">,</span> <span class="st">'3'</span><span class="op">)</span></span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a>  <span class="op">.</span><span class="fu">view</span><span class="op">({</span> <span class="st">"chr</span><span class="ss">$it</span><span class="st">"</span> <span class="op">})</span></span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a>ch<span class="op">.</span><span class="fu">view</span><span class="op">()</span>  </span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">chr1</span></span>
<span><span class="va">chr2</span></span>
<span><span class="va">chr3</span></span>
<span><span class="fl">1</span></span>
<span><span class="fl">2</span></span>
<span><span class="fl">3</span></span></code></pre>
</div>
</div>
</div>
<div class="section level3">
<h3 id="filtering-operators">Filtering operators<a class="anchor" aria-label="anchor" href="#filtering-operators"></a></h3>
<p>We can reduce the number of items in a channel by using filtering
operators.</p>
<p>The <code>filter</code> operator allows you to get only the items
emitted by a channel that satisfy a condition and discard all the
others. The filtering condition can be specified by using either:</p>
<ul><li>a regular expression</li>
<li>a literal value</li>
<li>a data type qualifier, e.g. Number (any integer,float …), String,
Boolean</li>
<li>or any boolean statement.</li>
</ul><div class="section level5">
<h5 id="data-type-qualifier">Data type qualifier<a class="anchor" aria-label="anchor" href="#data-type-qualifier"></a></h5>
<p>Here we use the <code>filter</code> operator on the
<code>chr_ch</code> channel specifying the data type qualifier
<code>Number</code> so that only numeric items are returned. The Number
data type includes both integers and floating point numbers. We will
then use the <code>view</code> operator to print the contents.</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">GROOVY<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode groovy" tabindex="0"><code class="sourceCode groovy"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>chr_ch <span class="op">=</span> channel<span class="op">.</span><span class="fu">of</span><span class="op">(</span> <span class="fl">1..22</span><span class="op">,</span> <span class="st">'X'</span><span class="op">,</span> <span class="st">'Y'</span> <span class="op">)</span></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>autosomes_ch <span class="op">=</span>chr_ch<span class="op">.</span><span class="fu">filter</span><span class="op">(</span> <span class="bu">Number</span> <span class="op">)</span></span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a>autosomes_ch<span class="op">.</span><span class="fu">view</span><span class="op">()</span></span></code></pre>
</div>
<p>To simplify the code we can chain multiple operators together, such
as <code>filter</code> and <code>view</code> using a <code>.</code>
.</p>
<p>The previous example could be rewritten like: The blank space between
the operators is ignored and is used for readability.</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">GROOVY<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode groovy" tabindex="0"><code class="sourceCode groovy"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a>chr_ch <span class="op">=</span> channel</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>  <span class="op">.</span><span class="fu">of</span><span class="op">(</span> <span class="fl">1..22</span><span class="op">,</span> <span class="st">'X'</span><span class="op">,</span> <span class="st">'Y'</span> <span class="op">)</span></span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>  <span class="op">.</span><span class="fu">filter</span><span class="op">(</span> <span class="bu">Number</span> <span class="op">)</span></span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a>  <span class="op">.</span><span class="fu">view</span><span class="op">()</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">1</span></span>
<span><span class="fl">2</span></span>
<span><span class="fl">3</span></span>
<span><span class="fl">4</span></span>
<span><span class="fl">5</span></span>
<span><span class="fl">6</span></span>
<span><span class="fl">7</span></span>
<span><span class="fl">8</span></span>
<span><span class="fl">9</span></span>
<span><span class="fl">10</span></span>
<span><span class="fl">11</span></span>
<span><span class="fl">12</span></span>
<span><span class="fl">13</span></span>
<span><span class="fl">14</span></span>
<span><span class="fl">15</span></span>
<span><span class="fl">16</span></span>
<span><span class="fl">17</span></span>
<span><span class="fl">18</span></span>
<span><span class="fl">19</span></span>
<span><span class="fl">20</span></span>
<span><span class="fl">21</span></span>
<span><span class="fl">22</span></span></code></pre>
</div>
</div>
<div class="section level5">
<h5 id="regular-expression">Regular expression<a class="anchor" aria-label="anchor" href="#regular-expression"></a></h5>
<p>To filter by a regular expression you have to do is to put
<code>~</code> right in front of the string literal regular expression
(e.g. <code>~"(^[Nn]extflow)"</code> or use slashy strings which replace
the quotes with <code>/</code>. <code>~/^[Nn]extflow/</code>).</p>
<p>The following example shows how to filter a channel by using a
regular expression <code>~/^1.*/</code> inside a slashy string, that
returns only strings that begin with 1:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">GROOVY<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode groovy" tabindex="0"><code class="sourceCode groovy"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a>chr_ch <span class="op">=</span> channel</span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a>  <span class="op">.</span><span class="fu">of</span><span class="op">(</span> <span class="fl">1..22</span><span class="op">,</span> <span class="st">'X'</span><span class="op">,</span> <span class="st">'Y'</span> <span class="op">)</span></span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a>  <span class="op">.</span><span class="fu">filter</span><span class="op">(~</span><span class="st">/^1.*/</span><span class="op">)</span></span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a>  <span class="op">.</span><span class="fu">view</span><span class="op">()</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">1</span></span>
<span><span class="fl">10</span></span>
<span><span class="fl">11</span></span>
<span><span class="fl">12</span></span>
<span><span class="fl">13</span></span>
<span><span class="fl">14</span></span>
<span><span class="fl">15</span></span>
<span><span class="fl">16</span></span>
<span><span class="fl">17</span></span>
<span><span class="fl">18</span></span>
<span><span class="fl">19</span></span></code></pre>
</div>
</div>
<div class="section level5">
<h5 id="boolean-statement">Boolean statement<a class="anchor" aria-label="anchor" href="#boolean-statement"></a></h5>
<p>A filtering condition can be defined by using a Boolean expression
described by a closure <code>{}</code> and returning a boolean value.
For example the following fragment shows how to combine a filter for a
type qualifier <code>Number</code> with another filter operator using a
Boolean expression to emit numbers less than 5:</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">GROOVY<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode groovy" tabindex="0"><code class="sourceCode groovy"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a>channel</span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a>  <span class="op">.</span><span class="fu">of</span><span class="op">(</span> <span class="fl">1..22</span><span class="op">,</span> <span class="st">'X'</span><span class="op">,</span> <span class="st">'Y'</span> <span class="op">)</span></span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a>  <span class="op">.</span><span class="fu">filter</span><span class="op">(</span><span class="bu">Number</span><span class="op">)</span></span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a>  <span class="op">.</span><span class="fu">filter</span> <span class="op">{</span> it <span class="op">&lt;</span> <span class="dv">5</span> <span class="op">}</span></span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a>  <span class="op">.</span><span class="fu">view</span><span class="op">()</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">1</span></span>
<span><span class="fl">2</span></span>
<span><span class="fl">3</span></span>
<span><span class="fl">4</span></span></code></pre>
</div>
<div id="closures-1" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="closures-1" class="callout-inner">
<h3 class="callout-title">Closures</h3>
<div class="callout-content">
<p>In the above example we have removed the brackets around the filter
condition e.g. <code>filter{ it&lt;5}</code>, since it specifies a
closure as the operator’s argument. This is language short for
<code>filter({ it&lt;5})</code></p>
</div>
</div>
</div>
</div>
<div class="section level5">
<h5 id="literal-value">Literal value<a class="anchor" aria-label="anchor" href="#literal-value"></a></h5>
<p>Finally, if we only want to include elements of a specific value we
can specify a literal value. In the example below we use the literal
value <code>X</code> to filter the channel for only those elements
containing the value <code>X</code>.</p>
<pre><code>channel
  .of( 1..22, 'X', 'Y' )
  .filter('X')
  .view()</code></pre>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">X</span></span></code></pre>
</div>
</div>
</div>
<div class="section level3">
<h3 id="modifying-the-contents-of-a-channel">Modifying the contents of a channel<a class="anchor" aria-label="anchor" href="#modifying-the-contents-of-a-channel"></a></h3>
<p>If we want to modify the items in a channel, we can use transforming
operators.</p>
<div class="section level4">
<h4 id="map">map<a class="anchor" aria-label="anchor" href="#map"></a></h4>
</div>
<div class="section level4">
<h4 id="applying-a-function-to-items-in-a-channel">Applying a function to items in a channel<a class="anchor" aria-label="anchor" href="#applying-a-function-to-items-in-a-channel"></a></h4>
<p>The <code>map</code> operator applies a function of your choosing to
every item in a channel, and returns the items so obtained as a new
channel. The function applied is called the mapping function and is
expressed with a closure <code>{}</code> as shown in the example
below:</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">GROOVY<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode groovy" tabindex="0"><code class="sourceCode groovy"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a>chr <span class="op">=</span> channel</span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a>  <span class="op">.</span><span class="fu">of</span><span class="op">(</span> <span class="st">'chr1'</span><span class="op">,</span> <span class="st">'chr2'</span> <span class="op">)</span></span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a>  <span class="op">.</span><span class="fu">map</span> <span class="op">({</span> it<span class="op">.</span><span class="fu">replaceAll</span><span class="op">(</span><span class="st">"chr"</span><span class="op">,</span><span class="st">""</span><span class="op">)</span> <span class="op">})</span></span>
<span id="cb19-4"><a href="#cb19-4" tabindex="-1"></a></span>
<span id="cb19-5"><a href="#cb19-5" tabindex="-1"></a>chr<span class="op">.</span><span class="fu">view</span><span class="op">()</span></span></code></pre>
</div>
<p>Here the map function uses the groovy string function
<code>replaceAll</code> to remove the chr prefix from each element.</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">1</span></span>
<span><span class="fl">2</span></span></code></pre>
</div>
<p>We can also use the <code>map</code> operator to transform each
element into a tuple.</p>
<p>In the example below we use the <code>map</code> operator to
transform a channel containing fastq files to a new channel containing a
tuple with the fastq file and the number of reads in the fastq file. We
use the built in <code>countFastq</code> file method to count the number
of records in a FASTQ formatted file.</p>
<p>We can change the default name of the closure parameter keyword from
<code>it</code> to a more meaningful name <code>file</code> using
<code>-&gt;</code>. When we have multiple parameters we can specify the
keywords at the start of the closure,
e.g. <code>file, numreads -&gt;</code>.</p>
<p>We can then add a <code>filter</code> operator to only retain those
fastq files with more than 25000 reads.</p>
<div id="task-8.1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="task-8.1" class="callout-inner">
<h3 class="callout-title">Task 8.1</h3>
<div class="callout-content">
<p>Inspect the code in the file <code>08_operators.nf</code> explain the
purpose of the <code>map</code> operator on the
<code>estimation_out.simulation_ch</code>. How is it used to transform
the contents into a tuple with the file and the file’s name? Write
additional comments within the script. (Hint: Use the <code>view</code>
operator to inspect the channel contents.)</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<p>The simulation_ch output emits a tuple of elements as part of the
simulation output from the <code>ESTIMATION</code> process. The map
operator transforms the first of the elements indexed by
<code>[0]</code> and uses a regular expression to split the character
value on the first <code>_</code> it encounters. Ex. it takes
<code>school123_period1</code> and returns <code>school123</code>, this
allows us to generate a school identifier.</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">GROOVY<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode groovy" tabindex="0"><code class="sourceCode groovy"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a>workflow <span class="op">{</span></span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a>  <span class="op">.</span></span>
<span id="cb21-3"><a href="#cb21-3" tabindex="-1"></a>  <span class="op">.</span></span>
<span id="cb21-4"><a href="#cb21-4" tabindex="-1"></a>  <span class="op">.</span></span>
<span id="cb21-5"><a href="#cb21-5" tabindex="-1"></a>    estimation_out<span class="op">.</span>simulation_ch\</span>
<span id="cb21-6"><a href="#cb21-6" tabindex="-1"></a>        <span class="op">|</span> map <span class="op">{</span> it <span class="op">-&gt;</span> <span class="op">[</span>it<span class="op">[</span><span class="dv">0</span><span class="op">].</span><span class="fu">split</span><span class="op">(</span><span class="st">'_|</span><span class="sc">\\</span><span class="st">.'</span><span class="op">)[</span><span class="dv">0</span><span class="op">],</span> it<span class="op">[</span><span class="dv">1</span><span class="op">],</span> it<span class="op">[</span><span class="dv">2</span><span class="op">],</span> it<span class="op">[</span><span class="dv">3</span><span class="op">],</span> it<span class="op">[</span><span class="dv">4</span><span class="op">]]}</span> </span>
<span id="cb21-7"><a href="#cb21-7" tabindex="-1"></a>  <span class="op">.</span></span>
<span id="cb21-8"><a href="#cb21-8" tabindex="-1"></a>  <span class="op">.</span></span>
<span id="cb21-9"><a href="#cb21-9" tabindex="-1"></a>  <span class="op">.</span>   </span>
<span id="cb21-10"><a href="#cb21-10" tabindex="-1"></a><span class="op">}</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section level4">
<h4 id="converting-a-list-into-multiple-items">Converting a list into multiple items<a class="anchor" aria-label="anchor" href="#converting-a-list-into-multiple-items"></a></h4>
<p>The <code>flatten</code> operator transforms a channel in such a way
that every item in a <code>list</code> or <code>tuple</code> is
flattened so that each single entry is emitted as a sole element by the
resulting channel.</p>
<p>This is similar to the channel factory
<code>Channel.fromList</code>.</p>
</div>
<div class="section level4">
<h4 id="converting-the-contents-of-a-channel-to-a-single-list-item-">Converting the contents of a channel to a single list item.<a class="anchor" aria-label="anchor" href="#converting-the-contents-of-a-channel-to-a-single-list-item-"></a></h4>
<p>The reverse of the <code>flatten</code> operator is
<code>collect</code>. The <code>collect</code> operator collects all the
items emitted by a channel to a list and return the resulting object as
a sole emission. This can be extremely useful when combining the results
from the output of multiple processes, or a single process run multiple
times.</p>
<p>The result of the collect operator is a <code>value</code> channel
and can be used multiple times.</p>
</div>
<div class="section level4">
<h4 id="grouping-contents-of-a-channel-by-a-key-">Grouping contents of a channel by a key.<a class="anchor" aria-label="anchor" href="#grouping-contents-of-a-channel-by-a-key-"></a></h4>
<p>The <code>groupTuple</code> operator collects <code>tuples</code> or
<code>lists</code> of values by grouping together the channel elements
that share the same key. Finally it emits a new tuple object for each
distinct key collected.</p>
<p>For example.</p>
<p>If we know the number of items to be grouped we can use the
<code>groupTuple</code> <code>size</code> parameter. When the specified
size is reached, the tuple is emitted. By default incomplete tuples
(i.e. with less than size grouped items) are discarded (default).</p>
<p>For example.</p>
<p>This operator is useful to process altogether all elements for which
there’s a common property or a grouping key.</p>
<div id="task-8.2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="task-8.2" class="callout-inner">
<h3 class="callout-title">Task 8.2</h3>
<div class="callout-content">
<p>Inspect the code in the file <code>08_operators.nf</code> explain the
purpose of the <code>groupTuple</code> operator. How is it used to
transform the contents into a tuple ? Write additional comments within
the script. (Hint: Use the <code>view</code> operator to inspect the
channel contents.)</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">GROOVY<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode groovy" tabindex="0"><code class="sourceCode groovy"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a></span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a>workflow <span class="op">{</span></span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a>  <span class="op">.</span></span>
<span id="cb22-4"><a href="#cb22-4" tabindex="-1"></a>  <span class="op">.</span></span>
<span id="cb22-5"><a href="#cb22-5" tabindex="-1"></a>  <span class="op">.</span></span>
<span id="cb22-6"><a href="#cb22-6" tabindex="-1"></a>    estimation_out<span class="op">.</span>simulation_ch\</span>
<span id="cb22-7"><a href="#cb22-7" tabindex="-1"></a>        <span class="op">|</span> map <span class="op">{</span> it <span class="op">-&gt;</span> <span class="op">[</span>it<span class="op">[</span><span class="dv">0</span><span class="op">].</span><span class="fu">split</span><span class="op">(</span><span class="st">'_|</span><span class="sc">\\</span><span class="st">.'</span><span class="op">)[</span><span class="dv">0</span><span class="op">],</span> it<span class="op">[</span><span class="dv">1</span><span class="op">],</span> it<span class="op">[</span><span class="dv">2</span><span class="op">],</span> it<span class="op">[</span><span class="dv">3</span><span class="op">],</span> it<span class="op">[</span><span class="dv">4</span><span class="op">]]}</span> \</span>
<span id="cb22-8"><a href="#cb22-8" tabindex="-1"></a>        <span class="op">|</span> <span class="fu">combine</span><span class="op">(</span>mapped_params<span class="op">,</span> by<span class="op">:</span> <span class="dv">0</span><span class="op">)</span> \</span>
<span id="cb22-9"><a href="#cb22-9" tabindex="-1"></a>        <span class="op">|</span> transpose \</span>
<span id="cb22-10"><a href="#cb22-10" tabindex="-1"></a>        <span class="op">|</span> <span class="fu">groupTuple</span><span class="op">(</span>by<span class="op">:</span> <span class="op">[</span><span class="dv">1</span><span class="op">,</span> <span class="dv">5</span><span class="op">],</span> sort<span class="op">:</span> <span class="kw">true</span><span class="op">)</span> </span>
<span id="cb22-11"><a href="#cb22-11" tabindex="-1"></a>  <span class="op">.</span></span>
<span id="cb22-12"><a href="#cb22-12" tabindex="-1"></a>  <span class="op">.</span></span>
<span id="cb22-13"><a href="#cb22-13" tabindex="-1"></a>  <span class="op">.</span>   </span>
<span id="cb22-14"><a href="#cb22-14" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb22-15"><a href="#cb22-15" tabindex="-1"></a></span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="merging-channels">Merging Channels<a class="anchor" aria-label="anchor" href="#merging-channels"></a></h3>
<p>Combining operators allows you to merge channels together. This can
be useful when you want to combine the output channels from multiple
processes to perform another task such as joint QC.</p>
<div class="section level4">
<h4 id="mix">mix<a class="anchor" aria-label="anchor" href="#mix"></a></h4>
<p>The <code>mix</code> operator combines the items emitted by two (or
more) channels into a single channel.</p>
<p>The items emitted by the resulting mixed channel may appear in any
order, regardless of which source channel they came from. Thus, the
following example it could be a possible result of the above example as
well.</p>
</div>
<div class="section level4">
<h4 id="join">join<a class="anchor" aria-label="anchor" href="#join"></a></h4>
<p>The <code>join</code> operator creates a channel that joins together
the items emitted by two channels for which exists a matching key. The
key is defined, by default, as the first element in each item
emitted.</p>
<p>The resulting channel emits:</p>
</div>
</div>
<div class="section level3">
<h3 id="maths-operators">Maths operators<a class="anchor" aria-label="anchor" href="#maths-operators"></a></h3>
<p>The maths operators allows you to apply simple math function on
channels.</p>
<p>The maths operators are:</p>
<ul><li>count</li>
<li>min</li>
<li>max</li>
<li>sum</li>
<li>toInteger</li>
</ul><div class="section level4">
<h4 id="counting-items-in-a-channel">Counting items in a channel<a class="anchor" aria-label="anchor" href="#counting-items-in-a-channel"></a></h4>
<p>The <code>count</code> operator creates a channel that emits a single
item: a number that represents the total number of items emitted by the
source channel. For example:</p>
</div>
</div>
<div class="section level3">
<h3 id="splitting-items-in-a-channel">Splitting items in a channel<a class="anchor" aria-label="anchor" href="#splitting-items-in-a-channel"></a></h3>
<p>Sometimes you want to split the content of a individual item in a
channel, like a file or string, into smaller chunks that can be
processed by downstream operators or processes e.g. items stored in a
CSV file.</p>
<p>Nextflow has a number of splitting operators that can achieve
this:</p>
<ul><li>
<a href="https://www.nextflow.io/docs/latest/operator.html#splitcsv" class="external-link">splitCsv</a>:
The splitCsv operator allows you to parse text items emitted by a
channel, that are formatted using the CSV format, and split them into
records or group them into list of records with a specified length.</li>
<li>
<a href="https://www.nextflow.io/docs/latest/operator.html#splitfasta" class="external-link">splitFasta</a>:
The splitFasta operator allows you to split the entries emitted by a
channel, that are formatted using the FASTA format. It returns a channel
which emits a text item for each sequence in the received FASTA
content.</li>
<li>
<a href="https://www.nextflow.io/docs/latest/operator.html#splitfastq" class="external-link">splitFastq</a>:
The splitFastq operator allows you to split the entries emitted by a
channel, that are formatted using the FASTQ format. It returns a channel
which emits a text chunk for each sequence in the received item.</li>
<li>
<a href="https://www.nextflow.io/docs/latest/operator.html#splittext" class="external-link">splitText</a>:
The splitText operator allows you to split multi-line strings or text
file items, emitted by a source channel into chunks containing n lines,
which will be emitted by the resulting channel.</li>
</ul><div class="section level4">
<h4 id="splitcsv">splitCsv<a class="anchor" aria-label="anchor" href="#splitcsv"></a></h4>
<p>The <code>splitCsv</code> operator allows you to parse text items
emitted by a channel, that are formatted using the CSV format, and split
them into records or group them into list of records with a specified
length. This is useful when you want to use a sample sheet.</p>
<p>In the simplest case just apply the <code>splitCsv</code> operator to
a channel emitting a CSV formatted text files or text entries. For
example:</p>
<p>For the CSV file <code>samples.csv</code>.</p>
<p>We can use the <code>splitCsv()</code> operator to split the channel
contaning a CSV file into three elements.</p>
<p>The above example shows hows the CSV file <code>samples.csv</code> is
parsed and is split into three elements.</p>
<div class="section level5">
<h5 id="accessing-values">Accessing values<a class="anchor" aria-label="anchor" href="#accessing-values"></a></h5>
<p>Values can be accessed by their positional indexes using the square
brackets syntax<code>[index]</code>. So to access the first column you
would use <code>[0]</code> as shown in the following example:</p>
</div>
<div class="section level5">
<h5 id="column-headers">Column headers<a class="anchor" aria-label="anchor" href="#column-headers"></a></h5>
<p>When the CSV begins with a header line defining the column names, you
can specify the parameter <code>header: true</code> which allows you to
reference each value by its name, as shown in the following example:</p>
<div id="task-8.3" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="task-8.3" class="callout-inner">
<h3 class="callout-title">Task 8.3</h3>
<div class="callout-content">
<p>Inspect the <code>08_operators.nf</code>, how is the
<code>params/effects.csv</code> being parsed?</p>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">

</div>
</div>
</div>
</div>
</div>
</div>
<div class="section level4">
<h4 id="tab-delimited-files">Tab delimited files<a class="anchor" aria-label="anchor" href="#tab-delimited-files"></a></h4>
<p>If you want to split a <code>tab</code> delimited file or file
separated by another character use the <code>sep</code> parameter of the
split <code>splitCsv</code> operator.</p>
</div>
</div>
<div class="section level3">
<h3 id="more-resources">More resources<a class="anchor" aria-label="anchor" href="#more-resources"></a></h3>
<p>See the operators <a href="https://www.nextflow.io/docs/latest/operator.html" class="external-link">documentation</a>
on the Nextflow web site.</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul><li>Nextflow <em>operators</em> are methods that allow you to modify,
set or view channels.</li>
<li>Operators can be separated in to several groups; filtering ,
transforming , splitting , combining , forking and Maths operators</li>
<li>To use an operator use the dot notation after the Channel object
e.g. <code>ESTIMATION.simulation_ch.view()</code>.</li>
<li>You can parse text items emitted by a channel, that are formatted
using the CSV format, using the <code>splitCsv</code> operator.</li>
</ul></div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</div>
</section></div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Previous and Next Chapter"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="07.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="09.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="07.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Workflow
        </a>
        <a class="chapter-link float-end" href="09.html" rel="next">
          Next: Reporting...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      		<footer class="row footer mx-md-3"><hr><div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>

        <a href="https://github.com/omiridoue/sgsss_workflow/edit/main/episodes/08.md" class="external-link">Edit on GitHub</a>

	
        | <a href="https://github.com/omiridoue/sgsss_workflow/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/omiridoue/sgsss_workflow/" class="external-link">Source</a></p>
				<p><a href="https://github.com/omiridoue/sgsss_workflow/blob/main/CITATION.cff" class="external-link">Cite</a> | <a href="mailto:eleni.omiridou@glasgow.ac.uk">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.16.12" class="external-link">sandpaper (0.16.12)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.9" class="external-link">pegboard (0.7.9)</a>, and <a href="https://github.com/omiridoue/varnish/tree/main" class="external-link">varnish (1.0.5)</a></p>
			</div>
		</footer></div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "LearningResource",
  "@id": "https://omiridoue.github.io/sgsss_workflow/08.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/LearningResource/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "workflow, reproducible, computation social science",
  "name": "Operators",
  "creativeWorkStatus": "active",
  "url": "https://omiridoue.github.io/sgsss_workflow/08.html",
  "identifier": "https://omiridoue.github.io/sgsss_workflow/08.html",
  "dateCreated": "2025-04-03",
  "dateModified": "2025-06-26",
  "datePublished": "2025-06-26"
}

  </script><script>
		feather.replace();
	</script></body></html><!-- END:   inst/pkgdown/templates/layout.html-->

